# VK ‚Üí Telegram HTML Formatter

## –û–±–∑–æ—Ä

–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ –∏–∑ VK –≤ Telegram. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç VK –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ `[URL|–¢–µ–∫—Å—Ç]` –≤ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ HTML —Å—Å—ã–ª–∫–∏ `<a href="URL">–¢–µ–∫—Å—Ç</a>`.

## –ü—Ä–æ–±–ª–µ–º–∞

‚ùå **–ë—ã–ª–æ:**
- –¢–µ–∫—Å—Ç —Å–ª–∏–≤–∞–ª—Å—è –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É
- VK –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –∫–∞–∫ —Å—ã—Ä–æ–π —Ç–µ–∫—Å—Ç: `[https://example.com|–¢–µ–∫—Å—Ç]`
- –°—Å—ã–ª–∫–∏ –Ω–µ –±—ã–ª–∏ –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ –≤ Telegram
- –¢–µ—Ä—è–ª–æ—Å—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## –†–µ—à–µ–Ω–∏–µ

‚úÖ **–°—Ç–∞–ª–æ:**
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫
- VK –≥–∏–ø–µ—Ä—Å—Å—ã–ª–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ HTML —Ñ–æ—Ä–º–∞—Ç
- –°—Å—ã–ª–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ –≤ Telegram
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–∂–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤, –∫–æ–¥)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ `CopyableField` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –û–ø—Ä–µ–¥–µ–ª—è—é—Ç –Ω–∞–ª–∏—á–∏–µ VK —Å—Å—ã–ª–æ–∫ –≤ —Ç–µ–∫—Å—Ç–µ
2. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "üì± Telegram —Ñ–æ—Ä–º–∞—Ç"
3. –§–æ—Ä–º–∞—Ç–∏—Ä—É—é—Ç —Ç–µ–∫—Å—Ç –ø—Ä–∏ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
4. –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ –ø–æ–ª–µ

### –†—É—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```typescript
import { formatTextForTelegram, hasVkLinks, extractVkLinks } from '../utils/telegramFormatter';

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è VK —Å—Å—ã–ª–æ–∫
const hasLinks = hasVkLinks(text);

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Telegram
const formattedText = formatTextForTelegram(text);

// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å—Å—ã–ª–æ–∫
const links = extractVkLinks(text);
```

## –§–æ—Ä–º–∞—Ç VK –≥–∏–ø–µ—Ä—Å—Å—ã–ª–æ–∫

### VK —Ñ–æ—Ä–º–∞—Ç:
```
[https://example.com|–¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏]
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞:
- `[` - –æ—Ç–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞
- `https://example.com` - URL
- `|` - –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è –ø–∞–ª–∫–∞ (—Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å)
- `–¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏` - —Ç–µ–∫—Å—Ç –¥–ª—è –ø–æ–∫–∞–∑–∞
- `]` - –∑–∞–∫—Ä—ã–≤–∞—é—â–∞—è —Å–∫–æ–±–∫–∞

### Telegram HTML —Ñ–æ—Ä–º–∞—Ç:
```html
<a href="https://example.com">–¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏</a>
```

## –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

| VK —Ñ–æ—Ä–º–∞—Ç | Telegram HTML |
|-----------|---------------|
| `[https://vk.com/wall-123_456|–ü–æ—Å—Ç]` | `<a href="https://vk.com/wall-123_456">–ü–æ—Å—Ç</a>` |
| `[https://youtube.com/watch?v=123|–í–∏–¥–µ–æ]` | `<a href="https://youtube.com/watch?v=123">–í–∏–¥–µ–æ</a>` |
| `[https://example.com/page|–ü—Ä–∏–º–µ—Ä]` | `<a href="https://example.com/page">–ü—Ä–∏–º–µ—Ä</a>` |

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ UI

### CopyableField –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ VK —Å—Å—ã–ª–æ–∫
- **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç HTML —Å—Å—ã–ª–∫–∏ –≤ –ø–æ–ª–µ
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–æ–¥—Å–∫–∞–∑–∫–∞:** –û–±—ä—è—Å–Ω—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º:** –í –±—É—Ñ–µ—Ä –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –≥–æ—Ç–æ–≤—ã–π HTML

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ PodcastStudio
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üì± Telegram" –≤ —Å–µ–∫—Ü–∏–∏ "–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã"
3. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å VK —Å—Å—ã–ª–∫–∞–º–∏
4. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## API

### `formatTextForTelegram(text: string): string`

–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç VK —Å—Å—ã–ª–∫–∏ –≤ HTML –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫.

### `hasVkLinks(text: string): boolean`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ VK —Å—Å—ã–ª–æ–∫ –≤ —Ç–µ–∫—Å—Ç–µ.

### `extractVkLinks(text: string): Array<{url: string, text: string}>`

–ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ VK —Å—Å—ã–ª–∫–∏ –∏–∑ —Ç–µ–∫—Å—Ç–∞ –≤ –≤–∏–¥–µ –º–∞—Å—Å–∏–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤.

### `convertVkLinksToHtml(text: string): string`

–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ VK —Å—Å—ã–ª–æ–∫ –≤ HTML –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.

## –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ

```javascript
/\[([^\]|]+)\|([^\]]+)\]/g
```

- `\[` –∏ `\]` - —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫–æ–±–∫–∏
- `([^\]|]+)` - URL (–ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã –∫—Ä–æ–º–µ ] –∏ |) 
- `\|` - —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å |
- `([^\]]+)` - —Ç–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏ (–ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã –∫—Ä–æ–º–µ ])

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Telegram

–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ Telegram –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```javascript
// Bot API example
await bot.sendMessage(chatId, formattedText, {
    parse_mode: 'HTML'
});

// –∏–ª–∏ –¥–ª—è Telegram Web App
window.Telegram.WebApp.sendData(formattedText);
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –¢–æ–ª—å–∫–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Å—ã–ª–æ–∫
- –ë–µ–∑ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —Å—Å—ã–ª–æ–∫
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è URL –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (Telegram –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç)

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–í `testData.ts` –¥–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã —Ç–µ–∫—Å—Ç–∞ —Å VK —Å—Å—ã–ª–∫–∞–º–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤—â–∏–∫–∞.

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML —Å–∏–º–≤–æ–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ —Å—Å—ã–ª–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è URL