# **Документация проекта: Студия Подкастов с ИИ**

## 1. Обзор проекта

**Студия Подкастов с ИИ** — это передовое веб-приложение, предназначенное для автоматического создания коротких, атмосферных аудио-подкастов и видеоматериалов на заданную пользователем тему. Приложение генерирует полный пакет материалов: от уникального, SEO-оптимизированного сценария и профессиональной озвучки несколькими голосами до набора визуальных материалов, включая фоновые изображения и обложки для YouTube.

**Основная цель** — предоставить авторам, маркетологам и энтузиастам мощный инструмент для быстрого создания качественного контента, минимизируя ручной труд и предоставляя гибкие инструменты для итеративного улучшения результата.

**Ключевые возможности:**

*   **Генерация по названию проекта:** Пользователь вводит название видео, и ИИ создает всю структуру.
*   **Гибкий источник знаний:**
    1.  **Google Search:** ИИ использует поиск Google для сбора актуальной информации (режим по умолчанию).
    2.  **Интерактивная База знаний:** Пользователь может вставить собственный текст или итеративно пополнять базу знаний, задавая уточняющие вопросы, на которые ИИ находит ответы через Google. База знаний используется **только для текущего проекта**.
*   **Настраиваемый стиль и длительность:**
    *   **Творческая свобода:** Генерация художественного, мистического рассказа в стиле Стивена Кинга/Лавкрафта.
    *   **Документальная точность:** Создание строгого, информативного подкаста на основе фактов.
    *   **Регулируемая длительность:** Пользователь может задать желаемую общую длительность подкаста в минутах.
*   **Автоматическая генерация контента для YouTube:**
    *   Кликабельное, SEO-оптимизированное название, описание и набор тегов.
    *   Уникальные персонажи с описанием голосов.
    *   Детализированные промпты для генерации изображений.
    *   Полноценный сценарий, разбитый на главы.
*   **Многоголосая озвучка (TTS):** Синтез речи с использованием разных голосов для разных персонажей.
*   **Отказоустойчивая генерация изображений:**
    *   Генерация 10 тематических изображений через **Google Imagen**.
    *   **Автоматический фолбэк:** При исчерпании квот Imagen, система автоматически переключается на **Stable Diffusion XL** через OpenRouter для бесперебойной работы.
    *   Создание 3-х вариантов обложек для YouTube на основе сгенерированных изображений.
*   **Интерактивная студия с инструментами регенерации:**
    *   Конвейерная генерация глав с возможностью паузы и возобновления.
    *   Прослушивание и повторная генерация каждой отдельной главы.
    *   **Панель "Инструменты":** Возможность пересоздать весь проект, обновить только текстовые материалы, сгенерировать новый набор изображений или полностью переозвучить все главы.
    *   Редактор обложек для YouTube с настройкой текста, шрифта, цвета и теней.
*   **Управление проектами и ключами:**
    *   **История проектов:** Сохранение и загрузка предыдущих проектов из `localStorage`.
    *   **Мульти-сервисное управление API-ключами:** Удобное модальное окно для ввода и сохранения собственных ключей для Google Gemini и OpenRouter.

## 2. Используемые технологии

*   **Фронтенд:**
    *   **React 19:** Современная библиотека для создания пользовательских интерфейсов.
    *   **TypeScript:** Строгая типизация для повышения надежности и масштабируемости кода.
    *   **Tailwind CSS:** Утилитарный CSS-фреймворк для быстрой и адаптивной верстки.
*   **Искусственный интеллект:**
    *   **Google Gemini API:**
        *   **`gemini-2.5-pro`:** Для сложных задач — генерации концепции, сценариев и работы с `googleSearch` tool.
        *   **`imagen-4.0-generate-001`:** Основная модель для генерации изображений.
        *   **`gemini-2.5-flash-preview-tts`:** Модель для синтеза речи (Text-to-Speech).
    *   **OpenRouter API:**
        *   **`stabilityai/sdxl`:** Запасная модель для генерации изображений.
*   **Браузерные API:**
    *   **Web Audio API:** Для обработки и сборки аудиофайлов в формате WAV.
    *   **Canvas API:** Для клиентской генерации и редактирования обложек.
    *   **LocalStorage API:** Для сохранения истории проектов и API-ключей.

## 3. Структура проекта

Проект организован в модульную структуру для удобства поддержки и разработки.

```
/
├── components/
│   ├── ApiKeyModal.tsx      # Модальное окно для ввода API-ключей (Gemini, OpenRouter).
│   ├── Icons.tsx            # Коллекция SVG-иконок.
│   ├── Spinner.tsx          # Компонент индикатора загрузки.
│   └── ThumbnailEditor.tsx  # Редактор обложек на базе Canvas.
│
├── services/
│   ├── canvasUtils.ts       # Утилиты для отрисовки на Canvas.
│   ├── imageService.ts      # Сервис для генерации изображений с логикой фолбэка.
│   └── ttsService.ts        # Основной сервис для работы с Gemini (сценарии, TTS, WAV).
│
├── App.tsx                  # Главный компонент приложения.
├── index.html               # Точка входа в приложение.
├── index.tsx                # Инициализация React.
├── types.ts                 # Определения TypeScript-типов.
└── README.md                # Эта документация.
```

## 4. План развития (Roadmap)

Этот раздел описывает запланированные улучшения, основанные на отзывах пользователей.

*   **Этап 1: Улучшение контроля**
    *   [ ] **Регенерация одного изображения:** Добавить кнопку для повторной генерации любого из 10 изображений по отдельности.
    *   [ ] **Выбор компонентов для генерации:** Дать пользователю возможность выбирать, какие части проекта генерировать (например, только текст или только изображения).
    *   [ ] **Выбор формата сохранения:** Добавить опцию сохранения аудио в формате MP3.

*   **Этап 2: Расширенная кастомизация**
    *   [ ] **Пользовательские системные промпты:** Возможность для продвинутых пользователей изменять базовые инструкции для ИИ, чтобы адаптировать его под стиль своего канала.

*   **Этап 3: Переход к видео и звуку**
    *   [ ] **Создание видео-слайдшоу:** Автоматическая сборка видео из сгенерированных изображений с наложением аудиодорожки и настраиваемым интервалом смены кадров.
    *   [ ] **Автоматический подбор SFX:** Поиск и интеграция звуковых эффектов на основе ремарок в сценарии.
    *   [ ] **Подбор фоновой музыки:** Поиск и добавление фоновой музыки, соответствующей атмосфере подкаста.

*   **Этап 4: Новые форматы и автоматизация**
    *   [ ] **Генерация Reels/Shorts:** Отдельный рабочий процесс для создания коротких вертикальных видео.
    *   [ ] **Интеграция с Google Drive:** Автоматическая выгрузка всех материалов проекта (аудио, видео, текст, изображения) в папку на Google Drive пользователя.

## 5. Установка и запуск

Приложение является полностью клиентским и не требует серверной части.

1.  **API-ключи:** Для работы приложения необходимы API-ключи.
    *   **Google Gemini:** Может быть установлен в переменной окружения `process.env.API_KEY` или введен пользователем в настройках.
    *   **OpenRouter:** (Опционально, для фолбэка изображений) Вводится пользователем в настройках.
2.  **Запуск:** Просто откройте файл `index.html` в современном веб-браузере. Все зависимости (React, @google/genai) подгружаются через CDN, указанный в `importmap`.
